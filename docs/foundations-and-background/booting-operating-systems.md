
## 可启动设备

- 软驱
- 硬盘
- CD/DVD
- USB驱动


一个可启动设备包含一个引导程序和一个启动系统镜像，在启动时，BIOS加载引导程序的第一个512字节到内存中进行定位
（0x0000,0x7C00）=0x07C00，然后跳转到那里执行引导程序，之后，它会加载整个引导程序，

BIOS总是加载引导程序到0x07C00是历史遗留问题，早期的pc只有64KB内存，内存低于0x07C00作为中断向量保留，第一个操作系统可用内存地址开始于0x08000，所以引导程序被加载到0x07C00，将近1KB的地方，
当执行开始，引导程序典型动作如下：

- 加载引导程序剩余部分到内存中并执行完成引导程序
- 找到并加载操作系统镜像到内存中
- 让cpu执行操作系统内核起始代码，以启动操作系统

## 从可用设备引导
### 软驱引导

可以通过以下步骤创建单一软驱FD:

- 格式化软驱为EXT2文件系统格式：mke2fs 
- 挂载FD并创建目录：bin,boot,dev,lib,etc,sbin,usr
- 用linux内核需要的文件填充文件系统
- 放置一个linux zImage 到/boot目录下：rootdev=(2,0)
- 安装linux引导程序到FD的block0里


### 硬盘引导


### CD/DVD_ROM引导
### USB驱动引导

### 使用初始化内存镜像引导linux

### 网络引导

## 开发引导程序
### 引导程序要求

- 引导程序需要汇编代码
- 编译链接程序bcc(16位代码)，gcc(32或64位代码)
- 在执行期间，cpu的CS,DS,SS寄存器必须全部指向程序中的同一个段
- 引导程序大小极其受限，512或1024字节，为了能匹配磁盘的一个或两个扇区
    - 引导程序的第一个512字节被加载到0x07C00
    - 如果引导程序大于512字节，它必须自己加载缺失的部分
    - 如果引导程序的内存首部也是操作系统需要的，则必须将其移动到其他位置，以便其不被传入的操作系统镜像破坏
    - 引导程序必须管理自己的执行环节，如：建立cpu段寄存器和建立一个栈

- 引导程序不能用标准I/O库函数，如果需要使用，则需要自己实现
- 开发引导程序几乎没有工具可调试，如果出错，机器将简单宕机


### 在线和离线引导程序

#### 从FD扇区引导系统



